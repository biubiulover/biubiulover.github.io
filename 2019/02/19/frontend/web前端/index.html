<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/100x100.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/32x32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/16x16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="web," />





  <link rel="alternate" href="/atom.xml" title="BiuBiu" type="application/atom+xml" />






<meta name="description" content="精通浏览器兼容性调优(参考：https://blog.csdn.net/garvisjack/article/details/69939203) 浏览器兼容性品牌Chrome FireFox IE等/运行平台windows MAC Android IOS/内核webkit gecko/屏幕分辨率/版本等； 内核：Trident(IE系)/Gecko(Firefox)/Presto/Webkit(S">
<meta name="keywords" content="web">
<meta property="og:type" content="article">
<meta property="og:title" content="web前端开发">
<meta property="og:url" content="http://gnbyj.cn/2019/02/19/frontend/web前端/index.html">
<meta property="og:site_name" content="BiuBiu">
<meta property="og:description" content="精通浏览器兼容性调优(参考：https://blog.csdn.net/garvisjack/article/details/69939203) 浏览器兼容性品牌Chrome FireFox IE等/运行平台windows MAC Android IOS/内核webkit gecko/屏幕分辨率/版本等； 内核：Trident(IE系)/Gecko(Firefox)/Presto/Webkit(S">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://gnbyj.cn/2019/02/19/frontend/web前端/images/screenshot_1548660473340.png">
<meta property="og:updated_time" content="2019-02-19T07:22:55.715Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="web前端开发">
<meta name="twitter:description" content="精通浏览器兼容性调优(参考：https://blog.csdn.net/garvisjack/article/details/69939203) 浏览器兼容性品牌Chrome FireFox IE等/运行平台windows MAC Android IOS/内核webkit gecko/屏幕分辨率/版本等； 内核：Trident(IE系)/Gecko(Firefox)/Presto/Webkit(S">
<meta name="twitter:image" content="http://gnbyj.cn/2019/02/19/frontend/web前端/images/screenshot_1548660473340.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://gnbyj.cn/2019/02/19/frontend/web前端/"/>





  <title>web前端开发 | BiuBiu</title>
  








  <style>
    .forkme{
      display: none;
    }
    @media (min-width: 768px) {
      .forkme{
        display: inline;
      }
    }
  </style>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    
    <div class="forkme">
      <a href="https://github.com/biubiulover">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub">
      </a>
    </div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BiuBiu</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">GOOD IS GOOD, BUT BETTER CARRIES IT.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://gnbyj.cn/2019/02/19/frontend/web前端/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gavin Gao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BiuBiu">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">web前端开发</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-19T12:30:00+08:00">
                2019-02-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/frontend/" itemprop="url" rel="index">
                    <span itemprop="name">frontend</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="精通浏览器兼容性调优"><a href="#精通浏览器兼容性调优" class="headerlink" title="精通浏览器兼容性调优"></a>精通浏览器兼容性调优</h1><p>(参考：<a href="https://blog.csdn.net/garvisjack/article/details/69939203" target="_blank" rel="noopener">https://blog.csdn.net/garvisjack/article/details/69939203</a>)</p>
<h2 id="浏览器兼容性"><a href="#浏览器兼容性" class="headerlink" title="浏览器兼容性"></a>浏览器兼容性</h2><p>品牌Chrome FireFox IE等/运行平台windows MAC Android IOS/内核webkit gecko/屏幕分辨率/版本等；</p>
<h3 id="内核："><a href="#内核：" class="headerlink" title="内核："></a>内核：</h3><p>Trident(IE系)/Gecko(Firefox)/<del>Presto</del>/Webkit(Safari android原生)/Blink(Chrome Opera)/edge(&gt;IE11)</p>
<p>根据浏览器份额等数据，我们在针对PC Web开发时需要重点关注Chrome、IE浏览器，开发Mobile项目时要重点关注Chrome浏览器与Safari。 </p>
<h3 id="兼容性一般标准"><a href="#兼容性一般标准" class="headerlink" title="兼容性一般标准"></a>兼容性一般标准</h3><ol>
<li>在不同的主流的浏览器上表现效果一致</li>
<li>能适应不同的屏幕大小</li>
<li>能适应不同的分辨率与色彩深度</li>
</ol>
<h3 id="兼容性主要考虑"><a href="#兼容性主要考虑" class="headerlink" title="兼容性主要考虑"></a>兼容性主要考虑</h3><ol>
<li>CSS兼容</li>
<li>JavaScript兼容</li>
<li>Html兼容</li>
</ol>
<hr>
<h3 id="CSS兼容"><a href="#CSS兼容" class="headerlink" title="CSS兼容"></a>CSS兼容</h3><h4 id="CSS-Reset"><a href="#CSS-Reset" class="headerlink" title="CSS Reset"></a>CSS Reset</h4><p>每种浏览器都有一套默认的样式表，即user agent stylesheet；</p>
<p>很大可能上这些默认样式是不同的；</p>
<p>CSS Reset 可以将所有浏览器默认样式设置成一样的，避免很多兼容问题。</p>
<p><code>https://cssreset.com/</code></p>
<h4 id="normalize-css"><a href="#normalize-css" class="headerlink" title="normalize.css"></a>normalize.css</h4><p>号称是CSS reset的替代方案，保留了一些内置的样式，并不是清除所有。</p>
<p><code>http://necolas.github.io/normalize.css/</code></p>
<h4 id="CSS-Hack"><a href="#CSS-Hack" class="headerlink" title="CSS Hack"></a>CSS Hack</h4><p><a href="http://browserhacks.com/" target="_blank" rel="noopener">http://browserhacks.com/</a></p>
<p>针对不同的浏览器或不同版本浏览器写<strong>特定的CSS样式</strong>达到让浏览器兼容的过程。</p>
<h5 id="1-IE条件注释法"><a href="#1-IE条件注释法" class="headerlink" title="1. IE条件注释法"></a>1. IE条件注释法</h5><p>IE条件注释（Conditional comments）是IE浏览器私有的代码，在其它浏览器中被视为注释。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--[if IE]&gt;用于 IE &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 6]&gt;用于 IE6 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 7]&gt;用于 IE7 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 8]&gt;用于 IE8 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if IE 9]&gt;用于 IE9 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if gt IE 6]&gt; 用于 IE6 以上版本&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if lte IE 7]&gt; 用于 IE7或更低版本 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if gte IE 8]&gt;用于 IE8 或更高版本 &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if lt IE 9]&gt;用于 IE9 以下版本&lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--[if !IE 8]&gt;用于非 IE &lt;![endif]--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--gt : greater than，选择条件版本以上版本，不包含条件版本 &gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--lt : less than，选择条件版本以下版本，不包含条件版本 &lt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--gte : greater than or equal，选择条件版本以上版本，包含条件版本&gt;= --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--lte : less than or equal，选择条件版本以下版本，包含条件版本 &lt;= --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--! : 选择条件版本以外所有版本，无论高低 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--*只有IE浏览器认识条件注释、其它浏览器会跳过 --&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="2-样式内属性标记法"><a href="#2-样式内属性标记法" class="headerlink" title="2. 样式内属性标记法"></a>2. 样式内属性标记法</h5><p>在CSS样式的属性名前或值后面添加特殊的字符让不同的浏览器解析 </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue <span class="meta">!important</span>;<span class="comment">/*all but ie6*/</span></span><br><span class="line">    *background-color: black;/*ie6 ie7*/</span><br><span class="line">    +<span class="selector-tag">background-color</span>: <span class="selector-tag">black</span>;<span class="comment">/*ie6 ie7*/</span></span><br><span class="line">    _<span class="selector-tag">background-color</span>: <span class="selector-tag">black</span>;<span class="comment">/*ie6*/</span></span><br><span class="line">    <span class="selector-tag">background-color</span>: <span class="selector-tag">black</span>\9;<span class="comment">/*ie 6 7 8 9 10*/</span></span><br><span class="line">    <span class="selector-tag">background-color</span>: <span class="selector-tag">black</span>\0;<span class="comment">/*ie 8 9 10*/</span></span><br><span class="line">    <span class="selector-tag">background-color</span>: <span class="selector-tag">black</span>\9\0;<span class="comment">/*ie 9 10*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>http://browserhacks.com/</code></p>
<h5 id="3-选择器前缀法"><a href="#3-选择器前缀法" class="headerlink" title="3. 选择器前缀法"></a>3. 选择器前缀法</h5><p>@media screen\0{…}</p>
<h5 id="4-文档模式-（X-UA-Compatible）-–-降级使用"><a href="#4-文档模式-（X-UA-Compatible）-–-降级使用" class="headerlink" title="4. 文档模式 （X-UA-Compatible） – 降级使用"></a>4. 文档模式 （X-UA-Compatible） – 降级使用</h5><p>文档模式的主要作用是影响浏览器显示网页HTML的方式，用于指定IE的页面排版引擎（Trident）以哪个版本的方式来解析并渲染网页代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- x-ua-compatible 头标签大小写不敏感，必须用在 head 中，必须在除 title 外的其他 meta 之前使用。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”x-ua-compatible”</span> <span class="attr">content</span>=<span class="string">”IE</span>=<span class="string">7,9,10”</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=7,IE=9"</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span> =<span class="string">”X-UA-Compatible”</span> <span class="attr">content</span>=<span class="string">“IE</span>=<span class="string">edge,chrome</span>=<span class="string">1”</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>Google Chrome Frame(谷歌内嵌浏览器框架GCF) 插件可以让用户的IE浏览器外观不变，但用户在浏览网页时，实际上使用的是Google Chrome浏览器内核。如果IE浏览器使用了GCF技术我们应该强制使用最新版内核，写入如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">X-UA-Compatible</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line">以上代码IE=edge告诉IE使用最新的引擎渲染网页，chrome=1则可以激活Chrome Frame</span><br></pre></td></tr></table></figure>
<p>现在多数网站这是这种写法如baidu。</p>
<h4 id="渐进增强和优雅降级"><a href="#渐进增强和优雅降级" class="headerlink" title="渐进增强和优雅降级"></a>渐进增强和优雅降级</h4><ul>
<li>渐进增强(progressive enhancement): 针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验</li>
<li>优雅降级`(graceful degradation): 一开始就构建完整的功能，然后再针对低版本浏览器进行兼容。</li>
</ul>
<hr>
<h3 id="JavaScript兼容"><a href="#JavaScript兼容" class="headerlink" title="JavaScript兼容"></a>JavaScript兼容</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//javascript判断浏览器类型</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBrowserInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> Sys = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> ua = navigator.userAgent.toLowerCase();</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/(msie|firefox|chrome|opera|version).*?([\d.]+)/</span>;</span><br><span class="line">    <span class="keyword">var</span> m = ua.match(re);</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        Sys.browser = m[<span class="number">1</span>].replace(<span class="regexp">/version/</span>, <span class="string">"'safari"</span>);</span><br><span class="line">        Sys.ver = m[<span class="number">2</span>];</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"getBrowserInfo fail."</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Sys;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>先检测，再操作DOM</strong>。可以使用javascript操作样式与标签，强制浏览器兼容，比如先使用javascript判断浏览器类型，再操作样式与标签。</li>
<li><strong>对象不能使用</strong>，指javascript存在兼容问题，如一个对象在某些浏览器下没有办法使用，可以：<strong>使用兼容性做的好的第三方js库，如jQ，Zepto等</strong>；<strong>浏览器检测、重新封装</strong>。<em>使用ajax时创建XHR对象？</em></li>
</ol>
<blockquote>
<p>使用javascript判断浏览器类型，对一些特点的方法或对象重新封装后使用，屏蔽浏览的不兼容性。可以使用User-Agent、或特定对象。</p>
<p><code>navigator.userAgent</code>：在user-agent中包含有不少的客户端信息，可以解析出判断浏览器部分的内容。 </p>
</blockquote>
<h4 id="Javascript-不同浏览器差异和兼容方法"><a href="#Javascript-不同浏览器差异和兼容方法" class="headerlink" title="Javascript 不同浏览器差异和兼容方法"></a>Javascript 不同浏览器差异和兼容方法</h4><p><a href="https://caniuse.com/" target="_blank" rel="noopener">https://caniuse.com/</a></p>
<blockquote>
<p>“能力检测”：检测该浏览器是否支持该方法，若支持则使用，否则使用另一种方法。</p>
<p>在进行能力检测时，首先检测最常用的特性，保证代码最优化，避免测试多个条件。 </p>
</blockquote>
<h5 id="添加事件监听兼容函数"><a href="#添加事件监听兼容函数" class="headerlink" title="添加事件监听兼容函数"></a>添加事件监听兼容函数</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addHandler</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(target.addEventListener)&#123;<span class="comment">//主流浏览器  </span></span><br><span class="line">        addHandler = <span class="function"><span class="keyword">function</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">            target.addEventListener(eventType, handler, <span class="literal">false</span>);  </span><br><span class="line">        &#125;;  </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//IE  </span></span><br><span class="line">        addHandler = <span class="function"><span class="keyword">function</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">            target.attachEvent(<span class="string">"on"</span>+eventType, handler);  </span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//执行新的函数  </span></span><br><span class="line">    addHandler(target, eventType, handler);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="删除事件监听兼容函数"><a href="#删除事件监听兼容函数" class="headerlink" title="删除事件监听兼容函数"></a>删除事件监听兼容函数</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeHandler</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(target.removeEventListener)&#123;<span class="comment">//主流浏览器  </span></span><br><span class="line">        removeHandler = <span class="function"><span class="keyword">function</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">            target.removeEventListener(eventType, handler, <span class="literal">false</span>);  </span><br><span class="line">        &#125;         </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//IE  </span></span><br><span class="line">        removeHandler = <span class="function"><span class="keyword">function</span>(<span class="params">target, eventType, handler</span>)</span>&#123;  </span><br><span class="line">            target.detachEvent(<span class="string">"on"</span>+eventType, handler);  </span><br><span class="line">        &#125;         </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">//执行新的函数  </span></span><br><span class="line">    removeHandler(target, eventType, handler);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="event"><a href="#event" class="headerlink" title="event"></a>event</h5><p>IE和其他浏览的event对象是不同的。在其他浏览器中若要使用时，都要传入event对象，而在IE中，event却是window对象的一个属性。 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//处理代码</span></span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//取消事件的默认行为</span></span><br><span class="line">    <span class="keyword">if</span> (event.preventDefault) &#123;</span><br><span class="line">        event.preventDefault();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; </span><br><span class="line">        event.returnValue = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//取消事件的进一步冒泡</span></span><br><span class="line">    <span class="keyword">if</span>(event.stopPropagation)&#123;</span><br><span class="line">        event.stopPropagation();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ajax-XHR对象"><a href="#ajax-XHR对象" class="headerlink" title="ajax XHR对象"></a>ajax XHR对象</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">  <span class="comment">//IE7+,...</span></span><br><span class="line">  xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="comment">//IE6,IE5</span></span><br><span class="line">  xhr=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="找子标签的问题"><a href="#找子标签的问题" class="headerlink" title="找子标签的问题"></a>找子标签的问题</h5><p>问题描述:</p>
<p>​    1). childNodes, firstChild, lastChild会将两个标签之间的换行也当作文本节点</p>
<p>​    2). firstElementChild/lastElementChild在IE中只支持IE9及以上</p>
<p>​    3). children只包含所有的标签子节点, 在规范中没有, 但所有的浏览器都支持</p>
<p>解决办法:</p>
<p>​    1). 如果找子标签, 使用children</p>
<p>​    2). 如果找标签体文本, 使用innerHTML</p>
<h5 id="currentStyle"><a href="#currentStyle" class="headerlink" title="currentStyle"></a>currentStyle</h5><blockquote>
<p>问题：currentStyle,只兼容IE，在其他浏览器是不能用的。</p>
<p>解决方案：同时使用getComputedStyle，可以兼容Chrome、FF。</p>
</blockquote>
<h5 id="获取鼠标当前坐标"><a href="#获取鼠标当前坐标" class="headerlink" title="获取鼠标当前坐标"></a>获取鼠标当前坐标</h5><blockquote>
<p>IE：event.x和event.y。  </p>
<p>FF：event.pageX和event.pageY。  </p>
<p>通用：两者都有event.clientX和event.clientY属性。 </p>
<p><strong>鼠标当前坐标(加上滚动条滚过的距离)</strong> </p>
<p>IE：event.offsetX和event.offsetY。  </p>
<p>FF：event.layerX和event.layerY。   </p>
</blockquote>
<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><p>意味着更好的用户体验。</p>
<h3 id="依赖因素"><a href="#依赖因素" class="headerlink" title="依赖因素"></a>依赖因素</h3><ol>
<li>服务器端(代码质量等)</li>
<li>网络速度</li>
<li>客户端软硬件配置</li>
<li>前端资源数量、大小及js时间空间复杂度等</li>
</ol>
<h3 id="优化大方向"><a href="#优化大方向" class="headerlink" title="优化大方向"></a>优化大方向</h3><ol>
<li><p><strong>尽量减少HTTP请求数量</strong></p>
<blockquote>
<p>只有10%-20%的最终用户响应时间花在接受请求的HTML文档上，剩下的80%-90%时间花在为HTML<strong>文档所引用的所有组件</strong>（图片、脚本、样式表等）进行的HTTP请求上。 </p>
</blockquote>
<p><strong>图片地图</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">map</span> <span class="attr">name</span>=<span class="string">"Map"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"22,35,149,148"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">onclick</span>=<span class="string">"return show('鸟')"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"circle"</span> <span class="attr">coords</span>=<span class="string">"505,88,75"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">onclick</span>=<span class="string">"return show('奖杯')"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">area</span> <span class="attr">shape</span>=<span class="string">"rect"</span> <span class="attr">coords</span>=<span class="string">"168,39,392,70"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">onclick</span>=<span class="string">"return show('文字')"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>CSS Sprite 雪碧图</strong></p>
<blockquote>
<p>把多张细小的图片拼成一张大图片，然后通过CSS来控制在什么地方具体显示这整张图片的什么位置，使用CSS裁剪出想要的图片，这样可以减少客户端请求小图片的次数。</p>
</blockquote>
<p><strong>Data URI Scheme（内联资源）</strong></p>
<blockquote>
<p>内联资源就是将一些<strong>小的资源文件序列化成base64的编码</strong>，放在CSS样式或页面中，在客户端再解析，优点是合并了小的文件，减少请求，把二进制变成了字符串方便存储，但是会出一个没有意义的长字符串影响开发时阅读代码，另外在某些情况下将失去图片的缓存。</p>
</blockquote>
<p><strong>样式表的合并</strong></p>
<blockquote>
<p>将多个小的离散的css、js文件合并，注意粒度，把多个请求变成1个请求。</p>
<p>手动合并：复制粘贴</p>
<p>工具合并：<br>copy a.js+b.js+c.js abc.js /b<br>Jscompres<br>CssGaga</p>
</blockquote>
<p><strong>使用Web Font字体图标</strong></p>
<blockquote>
<p>使用<strong>@font-face</strong>能够加载服务器端的字体文件，让客户端显示客户端所没有安装的字体，可以实现矢量图标，一次加载反复使用多个图标，相当于图标都变成了字体。可以将多个小图标定义在一个字体中，减少图标的请求次数。</p>
</blockquote>
</li>
<li><p><strong>压缩</strong></p>
<blockquote>
<p>资源越小请求速度将越快，带宽占用越小，但压缩与解压也有成本。</p>
</blockquote>
<p><strong>GZIP，即网页压缩</strong></p>
<blockquote>
<p>由WEB服务器和浏览器之间共同遵守的协议，gzip压缩后对SEO不友好</p>
</blockquote>
<p><strong>开启Tomcat Gzip压缩</strong></p>
<blockquote>
<p>修改conf – server.xml</p>
</blockquote>
<p><strong>开启IIS Gzip压缩</strong></p>
<blockquote>
<p>压缩对字符很有效，但是图片因为已经是压缩格式效果不明显；</p>
<p>注释在发布后应该删除。</p>
</blockquote>
<p><strong>压缩javascript、css</strong></p>
<blockquote>
<p>webpack等工具</p>
<p>JSCompress</p>
<p>IDE插件</p>
</blockquote>
<p><strong>优化图像</strong></p>
<blockquote>
<p>离线工具：jpegmini.exe</p>
<p>在线工具：<a href="http://img.hust.cc/" target="_blank" rel="noopener">http://img.hust.cc/</a> </p>
<p><a href="https://tinypng.com/" target="_blank" rel="noopener">https://tinypng.com/</a></p>
<p><a href="http://zhitu.isux.us/" target="_blank" rel="noopener">http://zhitu.isux.us/</a></p>
</blockquote>
<p><strong>压缩HTML</strong></p>
<blockquote>
<p>去除html中的多余空格、注释等内容</p>
</blockquote>
</li>
<li><p><strong>缓存</strong></p>
<p><code>&lt;meta http-equiv=”Expires” content=”Tue, 01 Jan 2019 13:30:26 GMT” /&gt;</code></p>
<blockquote>
<p>Expires是Web服务器响应消息头字段，在响应http请求时告诉浏览器在过期时间前浏览器可以直接从浏览器缓存取数据，而无需再次请求新内容，可以使用客户端缓存的内容，但是请求还是会发生，状态为304。浏览器会默认开启缓存功能。</p>
<p>Expires是HTTP 1.0中的内容，现在默认浏览器均默认使用HTTP 1.1，所以它的作用基本忽视。 </p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- max-age 指示客户机可以接收生存期不大于指定时间（以秒为单位）的响应。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”Cache-Control”</span> <span class="attr">content</span>=<span class="string">”max-age</span>=<span class="string">7200”</span> /&gt;</span> <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”Expires”</span> <span class="attr">content</span>=<span class="string">”Mon,</span> <span class="attr">20</span> <span class="attr">Jul</span> <span class="attr">2009</span> <span class="attr">23:00:00</span> <span class="attr">GMT</span>” /&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>本地存储</strong></p>
<blockquote>
<p>LocalStorage、SessionStorage、Web SQL Database </p>
</blockquote>
<p><strong>离线缓存</strong></p>
<blockquote>
<p>ApplicationCache，在断开服务器时仍然可以使用客户端的缓存文件，继续浏览 </p>
</blockquote>
<p><strong>动态页面静态化</strong></p>
<blockquote>
<p>将动态内容，需要复杂计算的内容变成静态的如HTML、JavaScript ；不能静态化的部分可以使用ajax </p>
</blockquote>
</li>
<li><p><strong>使用内容发布网络（CDN的使用）</strong></p>
<blockquote>
<p>CDN的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定，它是一个经<strong>策略性部署</strong>的整体系统，包括<strong>分布式存储</strong>、<strong>负载均衡</strong>、<strong>网络请求的重定向</strong>和<strong>内容管理</strong>4个要件。</p>
<p><a href="http://cdn.code.baidu.com/%20" target="_blank" rel="noopener">http://cdn.code.baidu.com/ </a>百度静态资源公共库 </p>
</blockquote>
</li>
<li><p><strong>DNS Prefetch</strong></p>
<blockquote>
<p>DNS Prefetch 是一种 DNS 预解析技术。当你浏览网页时，浏览器会在加载网页时对网页中的域名进行解析缓存，这样在你单击当前网页中的连接时就无需进行 DNS 的解析，减少用户等待时间，提高用户体验。 </p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 通过 link 标签 --&gt;</span></span><br><span class="line"><span class="tag">&lt; <span class="attr">link</span> <span class="attr">rel</span>=<span class="string">”dns-prefetch”</span> <span class="attr">href</span>=<span class="string">”http://api.twitter.com”</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 通过 meta 标签设置 Http header 的 x-dns-prefetch-control 属性为 on 进行控制。 --&gt;</span></span><br><span class="line"><span class="tag">&lt; <span class="attr">meta</span> <span class="attr">http-equiv</span>=<span class="string">”x-dns-prefetch-control”</span> <span class="attr">content</span>=<span class="string">”on”</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Firefox: 3.5+ Chrome: Supported Safari 5+ IE: 9 --&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>将CSS样式表放在顶部</strong></p>
</li>
<li><p><strong>将javascript脚本放在底部</strong></p>
<blockquote>
<p>参考：<a href="https://www.cnblogs.com/xuzhengguo/p/10004563.html" target="_blank" rel="noopener">https://www.cnblogs.com/xuzhengguo/p/10004563.html</a></p>
<p>将脚本从页面的顶部移到底部，会使页面既可以逐步呈现，也可以提高下载的并行度。将脚本放在页面越靠下的地方，意味着越多的内容能够逐步呈现。</p>
<p>脚本会阻塞对其后面内容的呈现；脚本会阻塞对其后面组件的下载。</p>
<p>HTTP1.1规范：建议浏览器从每个主机名并行的下载两个组件。</p>
<p>在下载脚本时，浏览器并行下载实际上被禁用的。脚本可能使用document.write来修改页面内容，浏览器等待，以确保页面能恰当的布局。 </p>
<p>为了确保脚本能够按照正确的顺序执行。（因为脚本之间可能存在依赖关系） </p>
<p><scripts> defer属性指明本元素所含的脚本不会修改DOM，因此代码能够安全地延迟执行。  </scripts></p>
</blockquote>
</li>
<li><p><strong>使用外部javascript和CSS</strong></p>
</li>
<li><p><strong>避免重定向</strong> </p>
</li>
</ol>
<p><strong>更多</strong>：</p>
<blockquote>
<p>英文原文：<a href="https://developer.yahoo.com/performance/rules.html" target="_blank" rel="noopener">https://developer.yahoo.com/performance/rules.html</a></p>
<p>中文翻译：<a href="http://www.cnblogs.com/developersupport/p/webpage-performance-best-practices.html" target="_blank" rel="noopener">http://www.cnblogs.com/developersupport/p/webpage-performance-best-practices.html</a></p>
<p><a href="https://www.baidu.com/s?wd=%E3%80%8A%E9%AB%98%E6%80%A7%E8%83%BD%E7%BD%91%E7%AB%99%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97%E3%80%8B&amp;tn=24004469_oem_dg&amp;rsv_dl=gh_pl_sl_csd" target="_blank" rel="noopener">《高性能网站建设指南》</a>这本书中提出了一些规则：</p>
<p>规则1——减少HTTP请求<br>规则2——使用内容发布网络CDN<br>规则3——添加Expires头，使用缓存<br>规则4——压缩组件<br>规则5——将样式表放在顶部<br>规则6——将脚本放在底部，避免阻塞html渲染<br>规则7——避免CSS表达式<br>规则8——使用外部JavaScript和CSS<br>规则9——减少DNS查找，使用DNS Prefetch预解析技术<br>规则10——精简JavaScript，代码精简<br>规则11——避免重定向，减少http请求<br>规则12——移除重复脚本，代码精简<br>规则13——配置ETag，缓存相关<br>规则14——使Ajax可缓存</p>
</blockquote>
<blockquote>
<p>Google Web Fundamentals: <a href="https://developers.google.cn/web/fundamentals/?hl=zh-cn" target="_blank" rel="noopener">https://developers.google.cn/web/fundamentals/?hl=zh-cn</a></p>
</blockquote>
<h1 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h1><p>典型的xhr建立ajax的过程：</p>
<ol>
<li>new一个xhr对象。</li>
<li>调用xhr对象的open()方法。</li>
<li>send()一些数据。 </li>
<li>对服务器的响应过程进行监听，来知道服务器是否正确得做出了响应，接着就可以做一些事情。比如获取服务器响应的内容，在页面上进行呈现。 </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr;</span><br><span class="line"><span class="comment">// 利用所有现代浏览器内部的对象-XMLHttpRequest-来实现发送和接收HTTP请求与响应信息。</span></span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">  <span class="comment">//IE7+,...</span></span><br><span class="line">  xhr=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="comment">//IE6,IE5</span></span><br><span class="line">  xhr=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用open(method,url,async) 方法准备好一个请求，async表示同步还是异步，默认为true(异步)；</span></span><br><span class="line">xhr.open(<span class="string">"POST"</span>,<span class="string">"/bank/rich.do"</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 在调用open()方法后，XMLHttpRequest对象把它的readyState属性设置为1(打开)并且把responseText、responseXML、status和statusText属性复位到它们的初始值。另外，它还复位请求头部。</span></span><br><span class="line"><span class="comment">// 注意，如果你调用open()方法并且此时readyState为4，则XMLHttpRequest对象将复位这些值。</span></span><br><span class="line"><span class="comment">// 设置请求的头部信息，必须写在open和send中间</span></span><br><span class="line"><span class="comment">// 如果在send(data)方法中的data参数的类型为DOMString，那么，数据将被编码为UTF-8。</span></span><br><span class="line"><span class="comment">// 如果数据是Document类型，那么将使用由data.xmlEncoding指定的编码串行化该数据。</span></span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line"><span class="comment">// 仅当readyState值为1时，才可以调用send()方法；否则的话，XMLHttpRequest对象将引发一个异常。</span></span><br><span class="line"><span class="comment">// XMLHttpRequest对象的send()方法可以立即返回，从而让Web页面上的其它HTML/JavaScript继续其浏览器端处理而由服务器处理HTTP请求并发送响应。即Async</span></span><br><span class="line">xhr.send(<span class="string">"name=王大锤&amp;sex=男"</span>);</span><br><span class="line"><span class="comment">// 在调用send()方法后，XMLHttpRequest对象把readyState的值设置为2(发送)。</span></span><br><span class="line"><span class="comment">// 当服务器响应时，在接收消息体之前，如果存在任何消息体的话，XMLHttpRequest对象将把readyState设置为3(正在接收中)。</span></span><br><span class="line"><span class="comment">// 当请求完成加载时，它把readyState设置为4(已加载)。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// xhr激发一个readystatechange事件，设置状态监听</span></span><br><span class="line"><span class="comment">// getAllResponseHeader()：获取所有的响应报头。</span></span><br><span class="line"><span class="comment">// getResponseHeader()：查询响应中的某个字段的值。readyState==3|4时调用才有意义。</span></span><br><span class="line"><span class="comment">// abort()：暂停异步HTTP请求，复位到未初始化状态。</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// readyState属性：0/1/2/3/4, 描述对象的当前状态</span></span><br><span class="line">  <span class="comment">// 0："未初始化"状态，已经创建一个XMLHttpRequest对象，但是还没有初始化。</span></span><br><span class="line">  <span class="comment">// 1："发送"状态，open()已经调用，也准备好发送请求。</span></span><br><span class="line">  <span class="comment">// 2："发送"状态，已通过send()发送请求，但还没有收到一个响应。</span></span><br><span class="line">  <span class="comment">// 3："正在接收"状态，已经接收到HTTP响应头部信息，但是消息体部分还没有完全接收。</span></span><br><span class="line">  <span class="comment">// 4："已加载"状态，响应已经被完全接收。</span></span><br><span class="line">  <span class="comment">// status：以数字返回http状态码。</span></span><br><span class="line">  <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>)&#123;</span><br><span class="line">    <span class="comment">// statusText文本形式返回http状态码</span></span><br><span class="line">    xhr.statusText</span><br><span class="line">    <span class="comment">// responseText:获得字符串形式的相应数据(Content-Type)，完整的响应信息。</span></span><br><span class="line">    xhr.responseText</span><br><span class="line">    <span class="comment">// responseXML:获得XML形式的相应数据，否则为null。</span></span><br><span class="line">    xhr.responseXML</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>jquery中的ajax</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    type:<span class="string">"GET"</span>,</span><br><span class="line">    url:<span class="string">"service.php?number="</span>+$(<span class="string">"#keyword"</span>).val(),</span><br><span class="line">    dataType:<span class="string">"json"</span>, <span class="comment">// 预期服务器返回数据的类型，可以为xml,html,script,json,jsonp,text</span></span><br><span class="line">    cache:<span class="string">"true"</span>,<span class="comment">//dataType 为 script 和 jsonp 时默认为 false，不缓存页面。</span></span><br><span class="line">    processData:<span class="string">"false"</span>,<span class="comment">//false:不转化对象为查询字符串</span></span><br><span class="line">    ifModified:<span class="string">"true"</span>,<span class="comment">//如果希望判断数据自从上次请求后没有更改过就报告出错的话</span></span><br><span class="line">    <span class="comment">// 如果要处理 $.ajax() 得到的数据，则需要使用回调函数</span></span><br><span class="line">    beforeSend:<span class="function"><span class="keyword">function</span>(<span class="params">jqxhr</span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 可修改 XMLHttpRequest 对象,如添加自定义 HTTP 头</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 在请求成功之后调用。传入返回的数据以及 "dataType" 参数的值。</span></span><br><span class="line">    dataFilter:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">    <span class="comment">// 当请求之后调用。传入返回后的数据，以及包含成功代码的字符串。</span></span><br><span class="line">    success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.success)&#123;</span><br><span class="line">            $(<span class="string">"searchResult"</span>).html(data.msg);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">"#searchResult"</span>).html(<span class="string">"出现错误："</span> + data.msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 在请求出错时调用。传入 XMLHttpRequest 对象，描述错误类型的字符串以及一个异常对象（如果有的话）</span></span><br><span class="line">    error:<span class="function"><span class="keyword">function</span>(<span class="params">jqXHR</span>)</span>&#123;</span><br><span class="line">        aler(<span class="string">"发生错误："</span>+ jqXHR.status);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 当请求完成之后调用这个函数，无论成功或失败。传入 XMLHttpRequest 对象，以及一个包含成功或错误代码的字符串。</span></span><br><span class="line">    complete:<span class="function"><span class="keyword">function</span>(<span class="params">jqXHR,TS</span>)</span>&#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果获取的数据文件存放在远程服务器上（域名不同，也就是跨域获取数据），则需要使用 jsonp 类型。使用这种类型的话，会创建一个查询字符串参数 callback=? ，这个参数会加在请求的 URL 后面。服务器端应当在 JSON 数据前加上回调函数名，以便完成一个有效的 JSONP 请求。如果要指定回调函数的参数名来取代默认的 callback，可以通过设置 $.ajax() 的 jsonp 参数。 </p>
</blockquote>
<p>fetch</p>
<p>号称是AJAX的替代品；</p>
<p>基于标准 Promise 实现，支持 async/await；</p>
<p>原生js，没有使用XMLHttpRequest对象；</p>
<p>但是：fetch只对网络请求报错；默认不带cookie，需添加配置；不支持abort；无法监测请求进度。</p>
<h1 id="混合开发-Hybrid-App"><a href="#混合开发-Hybrid-App" class="headerlink" title="混合开发 Hybrid App"></a>混合开发 Hybrid App</h1><p>基于Cordova</p>
<p>H5代码打包存放在客户端本地</p>
<p>原生负责搭建app基础框架，开发网络层，提供常用组件和插件等功能</p>
<h1 id="jQuery-bootstrap"><a href="#jQuery-bootstrap" class="headerlink" title="jQuery bootstrap"></a>jQuery bootstrap</h1><h3 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h3><blockquote>
<p>参考：<a href="http://jquery.cuishifeng.cn/" target="_blank" rel="noopener">http://jquery.cuishifeng.cn/</a></p>
</blockquote>
<p>选择器：基本选择器/层级选择器/基本筛选器/内容/可见性/属性/子元素/表单</p>
<p>核心：多库共存/插件机制/队列控制/数据缓存/对象访问</p>
<p>工具：字符串操作/函数操作/数组和对象操作/测试操作/浏览器及特性检测</p>
<p>ajax：请求/事件/其他</p>
<p>效果：基本/滑动/淡入淡出/自定义/设置</p>
<p>事件对象：</p>
<p>回调函数：</p>
<p>属性：属性/CSS类/HTML代码、文本、值</p>
<p>文档处理：内部插入/外部插入/包裹/替换/删除/复制/</p>
<p>筛选：过滤/查找/串联</p>
<p>CSS：CSS/位置/尺寸</p>
<p>事件：页面载入/事件处理/事件委派/事件切换/事件</p>
<p>延迟对象：</p>
<h3 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h3><blockquote>
<p>文档：<a href="https://v3.bootcss.com/getting-started/" target="_blank" rel="noopener">https://v3.bootcss.com/getting-started/</a></p>
</blockquote>
<p>在移动设备浏览器上，通过为视口（viewport）设置 meta 属性为 <code>user-scalable=no</code> 可以禁用其缩放（zooming）功能。这样禁用缩放功能后，用户只能滚动屏幕，就能让你的网站看上去更像原生应用的感觉。注意，这种方式我们并不推荐所有网站使用，还是要看你自己的情况而定！</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>将最外面的布局元素 <code>.container</code> 修改为 <code>.container-fluid</code>，就可以将固定宽度的栅格布局转换为 100% 宽度的布局。 </p>
<p><strong>Bootstrap 栅格系统的工作原理：</strong></p>
<ul>
<li>“行（row）”必须包含在 <code>.container</code> （固定宽度）或 <code>.container-fluid</code> （100% 宽度）中，以便为其赋予合适的排列（aligment）和内补（padding）。</li>
<li>通过“行（row）”在水平方向创建一组“列（column）”。</li>
<li>你的内容应当放置于“列（column）”内，并且，只有“列（column）”可以作为行（row）”的直接子元素。</li>
<li>类似 <code>.row</code> 和 <code>.col-xs-4</code> 这种预定义的类，可以用来快速创建栅格布局。Bootstrap 源码中定义的 mixin 也可以用来创建语义化的布局。</li>
<li>通过为“列（column）”设置 <code>padding</code> 属性，从而创建列与列之间的间隔（gutter）。通过为 <code>.row</code> 元素设置负值 <code>margin</code> 从而抵消掉为 <code>.container</code> 元素设置的 <code>padding</code>，也就间接为“行（row）”所包含的“列（column）”抵消掉了<code>padding</code>。</li>
<li>负值的 margin就是下面的示例为什么是向外突出的原因。在栅格列中的内容排成一行。</li>
<li>栅格系统中的列是通过指定1到12的值来表示其跨越的范围。例如，三个等宽的列可以使用三个 <code>.col-xs-4</code> 来创建。</li>
<li>如果一“行（row）”中包含了的“列（column）”大于 12，多余的“列（column）”所在的元素将被作为一个整体另起一行排列。</li>
<li>栅格类适用于与屏幕宽度大于或等于分界点大小的设备 ， 并且针对小屏幕设备覆盖栅格类。 因此，在元素上应用任何 <code>.col-md-*</code>栅格类适用于与屏幕宽度大于或等于分界点大小的设备 ， 并且针对小屏幕设备覆盖栅格类。 因此，在元素上应用任何 <code>.col-lg-*</code>不存在， 也影响大屏幕设备。</li>
</ul>
<p><strong>使用媒体查询（media query）来创建关键的分界点阈值</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 原生写法，做对比 */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">500px</span>) &#123;  </span><br><span class="line">     <span class="selector-tag">body</span> &#123; <span class="attribute">background-color</span>: black;    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 超小屏幕（手机，小于 768px） */</span></span><br><span class="line"><span class="comment">/* 没有任何媒体查询相关的代码，因为这在 Bootstrap 中是默认的（还记得 Bootstrap 是移动设备优先的吗？） */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 小屏幕（平板，大于等于 768px） */</span></span><br><span class="line">@<span class="keyword">media</span> (min-width: @screen-sm-min) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 中等屏幕（桌面显示器，大于等于 992px） */</span></span><br><span class="line">@<span class="keyword">media</span> (min-width: @screen-md-min) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 大屏幕（大桌面显示器，大于等于 1200px） */</span></span><br><span class="line">@<span class="keyword">media</span> (min-width: @screen-lg-min) &#123; ... &#125;</span><br></pre></td></tr></table></figure>
<p><strong>栅格参数</strong></p>
<p>通过下表可以详细查看 Bootstrap 的栅格系统是如何在多种屏幕设备上工作的。</p>
<table>
<thead>
<tr>
<th></th>
<th>超小屏幕 手机 (&lt;768px)</th>
<th>小屏幕 平板 (≥768px)</th>
<th>中等屏幕 桌面显示器 (≥992px)</th>
<th>大屏幕 大桌面显示器 (≥1200px)</th>
</tr>
</thead>
<tbody>
<tr>
<td>栅格系统行为</td>
<td>总是水平排列</td>
<td>开始是堆叠在一起的，当大于这些阈值时将变为水平排列C</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>.container</code> 最大宽度</td>
<td>None （自动）</td>
<td>750px</td>
<td>970px</td>
<td>1170px</td>
</tr>
<tr>
<td>类前缀</td>
<td><code>.col-xs-</code></td>
<td><code>.col-sm-</code></td>
<td><code>.col-md-</code></td>
<td><code>.col-lg-</code></td>
</tr>
<tr>
<td>列（column）数</td>
<td>12</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>最大列（column）宽</td>
<td>自动</td>
<td>~62px</td>
<td>~81px</td>
<td>~97px</td>
</tr>
<tr>
<td>槽（gutter）宽</td>
<td>30px （每列左右均有 15px）</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>可嵌套</td>
<td>是</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>偏移（Offsets）</td>
<td>是</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>列排序</td>
<td>是</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h1 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h1><ul>
<li><strong>如果只做pc端，那么静态布局（定宽度）是最好的选择；</strong></li>
<li><strong>如果做移动端，且设计对高度和元素间距要求不高，那么弹性布局（rem+js）是最好的选择，一份css+一份js调节font-size搞定；</strong></li>
<li><strong>如果pc，移动要兼容，而且要求很高，那么响应式布局还是最好的选择，前提是设计根据不同的高宽做不同的设计，响应式根据媒体查询做不同的布局。</strong></li>
</ul>
<hr>
<h2 id="静态布局（Static-Layout）"><a href="#静态布局（Static-Layout）" class="headerlink" title="静态布局（Static Layout）"></a>静态布局（Static Layout）</h2><p>固定宽度布局；<br>以<strong>px</strong>为单位，页面布局固定不变；<br>开发简单，无兼容性问题，不能根据用户的屏幕尺寸做出不同的表现。</p>
<h2 id="流式布局（Liquid-Layout）"><a href="#流式布局（Liquid-Layout）" class="headerlink" title="流式布局（Liquid Layout）"></a>流式布局（Liquid Layout）</h2><p>也叫百分比布局；<br>关键元素高宽和位置都不变，只有容器元素在做伸缩变换；<br>页面元素的宽度按照屏幕分辨率进行适配调整，但整体布局不变；<br>使用 <strong>%百分比</strong> 定义<strong>宽度</strong>，高度大都是用px来固定；<br>主要的问题是如果屏幕尺度跨度太大，有些页面元素宽度被拉的很长，但是高度、文字大小还是和原来一样。</p>
<h2 id="自适应布局（Adaptive-Layout）"><a href="#自适应布局（Adaptive-Layout）" class="headerlink" title="自适应布局（Adaptive Layout）"></a>自适应布局（Adaptive Layout）</h2><p>宽度自适应布局；<br>自适应是为了解决如何才能在不同大小的设备上呈现相同的网页。让同一张网页自动适应不同大小的屏幕，根据屏幕的宽度，自动调节网页的内容大小，但是无论怎样，他们的主体的内容和布局是没有变化的；<br>分别为不同的屏幕分辨率定义布局，即创建多个静态布局，每个静态布局对应一个屏幕分辨率范围；<br>自适应布局可看作是静态布局的一个系列；<br>使用 @media 媒体查询给不同尺寸和介质的设备切换不同的样式。</p>
<h2 id="响应式布局（Responsive-Layout）"><a href="#响应式布局（Responsive-Layout）" class="headerlink" title="响应式布局（Responsive Layout）"></a>响应式布局（Responsive Layout）</h2><p>通常是糅合了流式布局+自适应布局，再搭配媒体查询技术使用。<br>响应式与自适应的原理是相似的，都是检测设备，根据不同的设备采用不同的css</p>
<h2 id="弹性布局（rem-em布局）"><a href="#弹性布局（rem-em布局）" class="headerlink" title="弹性布局（rem/em布局）"></a>弹性布局（rem/em布局）</h2><blockquote>
<p>rem是始终相对于html大小，即页面根元素；<br>em是相对其父元素。</p>
</blockquote>
<h2 id="布局比较"><a href="#布局比较" class="headerlink" title="布局比较"></a>布局比较</h2><p><img src="images/screenshot_1548660473340.png" alt=""><br>||静态布局|流式布局|自适应布局|响应式布局|弹性布局|<br>|–|–|–|–|–|–|<br>|单位|px|%|px|%|em/rem|<br>||||多个静态布局，分别对应一个屏幕分辨率范围|多个流式布局，分别对应一个屏幕分辨率范围|em:相对父元素；rem:相对根元素；|<br>|元素大小|不变|变|不变|变||<br>|元素位置|不变|不变|变|变||<br>||整体布局不变|整体布局不变|使用media query|使用media query||<br>||||伸缩窗口，一定范围内页面元素不变化|伸缩窗口都会变化||<br>|||用于解决类似的设备不同分辨率之间的兼容||流式布局+自适应布局；用于解决不同设备之间不同分辨率之间的兼容问题|根据自己的需求在根元素确定一个参考值|<br>||只PC端|||PC&amp;Mobile兼容|只Mobile端|</p>
<hr>
<h2 id="媒体查询-media-query"><a href="#媒体查询-media-query" class="headerlink" title="媒体查询 media query"></a>媒体查询 media query</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> 设备类型 and (设备特性-宽度) &#123;</span><br><span class="line">    // 特定样式CSS</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="设备类型"><a href="#设备类型" class="headerlink" title="设备类型"></a>设备类型</h3><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>all</td>
<td>所有设备</td>
</tr>
<tr>
<td>screen</td>
<td>显示器</td>
</tr>
<tr>
<td>print</td>
<td>打印用纸或打印预览视图</td>
</tr>
<tr>
<td>handled</td>
<td>便携设备</td>
</tr>
<tr>
<td>tv</td>
<td>电视机类型的设备</td>
</tr>
<tr>
<td>speech</td>
<td>语音和音频合成器</td>
</tr>
<tr>
<td>braille</td>
<td>盲人用点字法触觉回馈设备</td>
</tr>
<tr>
<td>embossed</td>
<td>盲人打印机</td>
</tr>
<tr>
<td>projection</td>
<td>各种投影设备</td>
</tr>
<tr>
<td>tty</td>
<td>使用固定密度字母栅格的媒介，比如电传打字机和终端</td>
</tr>
</tbody>
</table>
<h3 id="设备特性"><a href="#设备特性" class="headerlink" title="设备特性"></a>设备特性</h3><table>
<thead>
<tr>
<th>特性</th>
<th>可指定的值</th>
<th>是否允许使用min/max前缀</th>
<th>特性说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>width</td>
<td>带单位的长度数值</td>
<td>允许</td>
<td>浏览器窗口的宽度  css</td>
</tr>
<tr>
<td>height</td>
<td>带单位的长度数值</td>
<td>允许</td>
<td>浏览器窗口的高度</td>
</tr>
<tr>
<td>device-width</td>
<td>带单位的长度数值</td>
<td>允许</td>
<td>设备屏幕分辨率的宽度值</td>
</tr>
<tr>
<td>device-height</td>
<td>带单位的长度数值</td>
<td>允许</td>
<td>设备屏幕分辨率的高度值</td>
</tr>
<tr>
<td>orientation</td>
<td>只能指定两个值:portrait或landscape</td>
<td>不允许</td>
<td>窗口的方向是纵向还是横向</td>
</tr>
<tr>
<td>aspect-ratio</td>
<td>比例值，例如：16/9</td>
<td>允许</td>
<td>窗口的纵横比，比例值为浏览器窗口的宽度值/高度值</td>
</tr>
<tr>
<td>device-aspect-ratio</td>
<td>比例值，例如：16/9</td>
<td>允许</td>
<td>设备屏幕分辨率的纵横比，比例值为设备屏幕分辨率的宽度值/高度值</td>
</tr>
<tr>
<td>color</td>
<td>整数值</td>
<td>允许</td>
<td>设备使用多少位的颜色值，如果不是彩色设备，该值为0</td>
</tr>
<tr>
<td>color-index</td>
<td>整数值</td>
<td>允许</td>
<td>色彩表中的色彩数</td>
</tr>
<tr>
<td>monochrome</td>
<td>整数值</td>
<td>允许</td>
<td>单色帧缓冲器中每像素的字节数</td>
</tr>
<tr>
<td>resolution</td>
<td>分辨率值，譬如300dpi</td>
<td>允许</td>
<td>设备的分辨率</td>
</tr>
<tr>
<td>scan</td>
<td>只能指定两个值：progressive或interlace</td>
<td>不允许</td>
<td>电视机类型设备的扫描方式，progressive表示逐行扫描，interlace表示隔行扫描</td>
</tr>
<tr>
<td>grid</td>
<td>只能指定两个值:0或1</td>
<td>不允许</td>
<td>设备是基于栅格还是基于位图。基于栅格时该值为1，否则该值为0</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><h3 id="一，在标签内引入"><a href="#一，在标签内引入" class="headerlink" title="一，在标签内引入"></a>一，在<head>标签内引入<meta></head></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no&quot; /&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>width: 控制viewport的大小。如device-width为设备的宽度；<br>initial-scale: 初始缩放比例，页面第一次加载时的缩放比例；<br>maximum-scale 允许用户缩放到的最大比例，范围从0到10.0；<br>minimum-scale: 允许用户缩放到的最小比例，范围从0到10.0；<br>user-scalable： 用户是否可以手动缩放，值可以是：yes/true允许用户缩放；no/false不允许用户缩放。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 代码有类似于电话这样的数字时，不会自动转换成可以拨打电话</span><br><span class="line">&lt;meta content=&quot;telephone=no,email=no&quot; name=&quot;format-detection&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="二，dpr-设备像素比"><a href="#二，dpr-设备像素比" class="headerlink" title="二，dpr 设备像素比"></a>二，dpr 设备像素比</h3><blockquote>
<p>devicePixelRatio = 物理像素/ 独立像素(CSS像素)<br>css中的1像素(px)在设备上占用多少个物理像素；<br><strong>物理像素</strong>可以映射到设备的<strong>分辨率</strong>的宽度；<br><strong>独立像素</strong>可以映射到媒体查询<strong>media定义</strong>的宽度；</p>
</blockquote>
<h3 id="三，媒介查询"><a href="#三，媒介查询" class="headerlink" title="三，媒介查询"></a>三，媒介查询</h3><h3 id="四，设置多种视图宽度"><a href="#四，设置多种视图宽度" class="headerlink" title="四，设置多种视图宽度"></a>四，设置多种视图宽度</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** iPad **/</span></span><br><span class="line">@<span class="keyword">media</span> only screen and (min-width: <span class="number">768px</span>) and (max-width: <span class="number">1024px</span>) &#123;&#125;</span><br><span class="line"><span class="comment">/** iPhone **/</span></span><br><span class="line">@<span class="keyword">media</span> only screen and (min-width: <span class="number">320px</span>) and (max-width: <span class="number">767px</span>) &#123;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h1><p>弹性布局 <a href="http://www.runoob.com/w3cnote/flex-grammar.html" target="_blank" rel="noopener">http://www.runoob.com/w3cnote/flex-grammar.html</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;<span class="comment">/*任意容器*/</span></span><br><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">inline-flex</span>;<span class="comment">/*行内元素*/</span></span><br><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-flex</span>;<span class="comment">/*safari*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>flex container 容器 – flex item 项目</p>
<p>main axis 主轴 – main start 主轴开始位置 / main end 主轴结束位置</p>
<p>cross axis 交叉轴 – cross start 交叉轴开始位置 / cross end 交叉轴结束位置</p>
<p>main size 项目占主轴空间 / cross size 项目占交叉轴空间</p>
</blockquote>
<h2 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h2><ul>
<li><code>flex-direction: row | row-reverse | column | column-reverse;</code></li>
<li><code>flex-wrap: nowrap | wrap | wrap-reverse;</code></li>
<li><code>flex-flow: &lt;flex-direction&gt; &lt;flex-wrap&gt;;</code></li>
<li><code>justify-content: flex-start | flex-end | center | space-between项目之间的间隔都相等 | space-around项目两侧的间隔相等 ;</code></li>
<li><code>align-items: flex-start | flex-end | center | baseline | stretch;</code></li>
<li><code>align-content: flex-start | flex-end | center | space-between | space-around | stretch;</code></li>
</ul>
<h2 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h2><ul>
<li><code>order: &lt;integer&gt;; /*项目的排列顺序。数值越小，排列越靠前，默认为0。*/</code></li>
<li><code>flex-grow: &lt;number&gt;; /* 放大比例 default 0 */</code></li>
<li><code>flex-shrink: &lt;number&gt;; /* 缩小比例 default 1 */</code></li>
<li><code>flex-basis: &lt;length&gt; | auto; /* 在分配多余空间之前，项目占据的主轴空间 default auto */</code></li>
<li><code>flex: none | [ &lt;&#39;flex-grow&#39;&gt; &lt;&#39;flex-shrink&#39;&gt;? || &lt;&#39;flex-basis&#39;&gt; ] /* 默认值为0 1 auto */</code></li>
<li><code>align-self: auto | flex-start | flex-end | center | baseline | stretch;/*与众不同的对齐方式*/</code></li>
</ul>
<h1 id="MVVM-VUE-js"><a href="#MVVM-VUE-js" class="headerlink" title="MVVM VUE.js"></a>MVVM VUE.js</h1><p><a href="http://doc.liangxinghua.com/vue-family/1.html" target="_blank" rel="noopener">http://doc.liangxinghua.com/vue-family/1.html</a></p>
<p>渐进式框架，核心库只关注视图层，需要什么就引入什么，自底向上增量开发。</p>
<blockquote>
<p>渲染分为：<strong>命令式渲染</strong>和<strong>声明式渲染</strong> </p>
<p><strong>命令式渲染</strong>：命令我们的程序去做什么，程序就会跟着你的命令去一步一步执行 </p>
<p><strong>声明式渲染</strong> ：只需要告诉程序想要什么效果，其他的交给程序来做</p>
</blockquote>
<p>Vue.js全家桶：Vue + Vue-router + Vuex + axios</p>
<p>Vuejs由一系列的组件组成应用，组件(components)映射到路由(routes)，然后 vue-router 在相应位置渲染它们。</p>
<h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>new Vue() –&gt; init</p>
<table>
<thead>
<tr>
<th>周期</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>beforeCreate</td>
<td>在实例初始化之后，数据观测和事件配置之前被调用</td>
</tr>
<tr>
<td>created</td>
<td>在实例创建完成后被立即调用，完成数据观测，属性和方法的运算，初始化事件，$el属性未见</td>
</tr>
<tr>
<td>beforeMount</td>
<td>在挂载开始之前被调用：相关的 render 函数首次被调用，只在虚拟DOM生成HTML</td>
</tr>
<tr>
<td>mounted</td>
<td>在el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用。实例已完成以下的配置：用上面编译好的html内容替换el属性指向的DOM对象。完成模板中的html渲染到html页面中。此过程中进行ajax交互</td>
</tr>
<tr>
<td>beforeUpdate</td>
<td>在数据更新之前调用，发生在虚拟DOM重新渲染和打补丁之前。可以在该钩子中进一步地更改状态，不会触发附加的重渲染过程</td>
</tr>
<tr>
<td>updated</td>
<td>在由于数据更改导致的虚拟DOM重新渲染和打补丁之后调用。调用时，组件DOM已经更新，所以可以执行依赖于DOM的操作。然而在大多数情况下，应该避免在此期间更改状态，因为这可能会导致更新无限循环。该钩子在服务器端渲染期间不被调用</td>
</tr>
<tr>
<td>activated</td>
<td>keep-alive 组件激活时调用</td>
</tr>
<tr>
<td>deactivated</td>
<td>keep-alive 组件停用时调用</td>
</tr>
<tr>
<td>beforeDestroy</td>
<td>在实例销毁之前调用。实例仍然完全可用</td>
</tr>
<tr>
<td>destroyed</td>
<td>在实例销毁之后调用。调用后，所有的事件监听器会被移除，所有的子实例也会被销毁。该钩子在服务器端渲染期间不被调用</td>
</tr>
</tbody>
</table>
<h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><p>基于Promise的HTTP库，<a href="https://github.com/axios/axios" target="_blank" rel="noopener">https://github.com/axios/axios</a> </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">'axios'</span>);</span><br><span class="line"><span class="comment">// post</span></span><br><span class="line">axios.post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;)</span><br><span class="line"><span class="comment">// get 1</span></span><br><span class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</span><br><span class="line"><span class="comment">// get 2</span></span><br><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">    <span class="built_in">console</span>.log(response.data);</span><br><span class="line">    <span class="built_in">console</span>.log(response.status);</span><br><span class="line">    <span class="built_in">console</span>.log(response.statusText);</span><br><span class="line">    <span class="built_in">console</span>.log(response.headers);</span><br><span class="line">    <span class="built_in">console</span>.log(response.config);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">    <span class="keyword">if</span> (error.response) &#123;</span><br><span class="line">      <span class="comment">// The request was made and the server responded with a status code</span></span><br><span class="line">      <span class="comment">// that falls out of the range of 2xx</span></span><br><span class="line">      <span class="built_in">console</span>.log(error.response.data);</span><br><span class="line">      <span class="built_in">console</span>.log(error.response.status);</span><br><span class="line">      <span class="built_in">console</span>.log(error.response.headers);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.request) &#123;</span><br><span class="line">      <span class="comment">// The request was made but no response was received</span></span><br><span class="line">      <span class="comment">// `error.request` is an instance of XMLHttpRequest in the browser and an instance of</span></span><br><span class="line">      <span class="comment">// http.ClientRequest in node.js</span></span><br><span class="line">      <span class="built_in">console</span>.log(error.request);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Something happened in setting up the request that triggered an Error</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Error'</span>, error.message);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(error.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.all(iterable)</span><br><span class="line">axios.spread(callback)</span><br></pre></td></tr></table></figure>
<h3 id="创建实例"><a href="#创建实例" class="headerlink" title="创建实例"></a>创建实例</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">'https://some-domain.com/api/'</span>,</span><br><span class="line">  timeout: <span class="number">1000</span>,</span><br><span class="line">  headers: &#123;<span class="string">'X-Custom-Header'</span>: <span class="string">'foobar'</span>&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="requests-response-拦截器"><a href="#requests-response-拦截器" class="headerlink" title="requests/response 拦截器"></a>requests/response 拦截器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;<span class="keyword">return</span> config;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;<span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);&#125;);</span><br><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;<span class="keyword">return</span> response;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;<span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="默认全局配置"><a href="#默认全局配置" class="headerlink" title="默认全局配置"></a>默认全局配置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.timeout = <span class="number">5000</span>; <span class="comment">// 响应时间</span></span><br><span class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>; <span class="comment">// 配置请求头</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">'https://api.example.com'</span>; <span class="comment">// 配置接口地址</span></span><br><span class="line">axios.defaults.headers.common[<span class="string">'Authorization'</span>] = AUTH_TOKEN;</span><br></pre></td></tr></table></figure>
<h3 id="取消请求"><a href="#取消请求" class="headerlink" title="取消请求"></a>取消请求</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CancelToken = axios.CancelToken;</span><br><span class="line"><span class="keyword">const</span> source = CancelToken.source();</span><br><span class="line">axios.get(<span class="string">'/user/12345'</span>, &#123;</span><br><span class="line">  cancelToken: source.token</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>默认情况下，axios发送数据的形式为<code>application/json;charset=UTF-8</code>，如若想以<code>application/x-www-form-urlencoded</code>的形式发送数据，可以使用如下方法：</p>
<h3 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不是所有浏览器都支持</span></span><br><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> URLSearchParams();</span><br><span class="line">params.append(<span class="string">'param1'</span>, <span class="string">'value1'</span>);</span><br><span class="line">params.append(<span class="string">'param2'</span>, <span class="string">'value2'</span>);</span><br><span class="line">axios.post(<span class="string">'/foo'</span>, params);</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入qs模块</span></span><br><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">'qs'</span>);</span><br><span class="line">axios.post(<span class="string">'/foo'</span>, qs.stringify(&#123; <span class="string">'bar'</span>: <span class="number">123</span> &#125;));</span><br></pre></td></tr></table></figure>
<h3 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 也可以使用qs模块</span></span><br><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">'querystring'</span>);</span><br><span class="line">axios.post(<span class="string">'http://something.com/'</span>, querystring.stringify(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;));</span><br></pre></td></tr></table></figure>
<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><blockquote>
<p>参考：<a href="https://blog.csdn.net/zhbhun/article/details/47208885" target="_blank" rel="noopener">https://blog.csdn.net/zhbhun/article/details/47208885</a></p>
<p>webpack详解：<a href="https://juejin.im/post/5aa3d2056fb9a028c36868aa" target="_blank" rel="noopener">https://juejin.im/post/5aa3d2056fb9a028c36868aa</a></p>
</blockquote>
<p>CommonJS模块规范</p>
<blockquote>
<p>导出模块：module.exports 或 exports</p>
<p>前者：module是对象，exports是属性；后者：exports变量是指向module.exports</p>
<p>导入模块：require()</p>
</blockquote>
<p>ES6语法</p>
<blockquote>
<p>导出模块：export 或 export default</p>
<p>导入模块：import</p>
</blockquote>
<p><strong>require.ensure()</strong></p>
<p>webpack 在编译时，会静态地解析代码中的 require.ensure()，同时将模块添加到一个分开的 chunk 当中。这个新的 chunk 会被 webpack 通过 jsonp 来按需加载。 </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>.ensure(dependencies: <span class="built_in">String</span>[], <span class="attr">callback</span>: <span class="function"><span class="keyword">function</span>(<span class="params">require</span>), <span class="title">chunkName</span>: <span class="title">String</span>) </span></span><br><span class="line"><span class="function">// <span class="title">dependencies</span>：字符串数组，空数组作为参数</span></span><br><span class="line"><span class="function">// <span class="title">callback</span>：当所有的依赖都加载完成后，<span class="title">webpack</span>会执行这个回调函数</span></span><br><span class="line"><span class="function">// <span class="title">chunkName</span>：相同<span class="title">chunkName</span>会放入同一个文件束中</span></span><br></pre></td></tr></table></figure>
<h1 id="node-js-koa-express-npm"><a href="#node-js-koa-express-npm" class="headerlink" title="node.js koa express npm"></a>node.js koa express npm</h1><p><strong>基于JavaScript语言</strong>和<strong>V8高性能引擎</strong>的开源Web服务器。</p>
<p>node.js是<strong>事件驱动</strong>的，因为JavaScript是事件驱动的。</p>
<p>node.js是<strong>单线程</strong>的，可实现并发处理，依赖于<strong>事件循环（event loop）</strong>。</p>
<p>Node.js使用事件驱动模型，当web server接收到请求，就把它关闭然后进行处理，然后去服务下一个web请求。当这个请求完成，它被放回处理队列，当到达队列开头，这个结果被返回给用户。这个模型非常高效可扩展性非常强，因为web server一直接受请求而不等待任何读写操作，即为<strong>非阻塞I/O</strong>。 (想象饭馆排队点餐，取号等待，做好后喊你取餐)。</p>
<p>对比：传统的web server多为基于线程模型。你启动Apache或者tomcat等，它开始等待接受连接。当收到一个连接，server保持连接连通直到页面或者什么事务请求完成。如果他需要花几微秒时间去读取磁盘或者访问数据库，web server就阻塞了IO操作（这也被称之为阻塞式IO)。想提高这样的web server的性能就只有启动更多的server实例。 </p>
<h2 id="Node-js-RESTful-API"><a href="#Node-js-RESTful-API" class="headerlink" title="Node.js RESTful API"></a>Node.js RESTful API</h2><p>REST即表述性状态传递（英文：Representational State Transfer，简称REST）</p>
<p>REST 通常使用 JSON 数据格式。 </p>
<p> 基本架构方法：GET/PUT/DELETE/POST</p>
<p>Web service是一个平台独立的，低耦合的，自包含的、基于可编程的web的应用程序，可使用开放的XML（标准通用标记语言下的一个子集）标准来描述、发布、发现、协调和配置这些应用程序，用于开发分布式的互操作的应用程序。</p>
<p>基于 REST 架构的 Web Services 即是 RESTful。</p>
<p>由于轻量级以及通过 HTTP 直接传输数据的特性，Web 服务的 RESTful 方法已经成为最常见的替代方法。</p>
<h2 id="Node-js多进程"><a href="#Node-js多进程" class="headerlink" title="Node.js多进程"></a>Node.js多进程</h2><p>利用child_process 模块在多核 cpu 的系统上创建多个子进程，从而提高性能。 </p>
<ul>
<li><strong>exec</strong> - child_process.exec 使用子进程执行命令，缓存子进程的输出，并将子进程的输出以回调函数参数的形式返回。</li>
<li><strong>spawn</strong> - child_process.spawn 使用指定的命令行参数创建新进程。</li>
<li><strong>fork</strong> - child_process.fork 是 spawn()的特殊形式，用于在子进程中运行的模块，如 fork(‘./son.js’) 相当于 spawn(‘node’, [‘./son.js’]) 。与spawn方法不同的是，fork会在父进程与子进程之间，建立一个通信管道，用于进程之间的通信。</li>
</ul>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><p>为了让Node.js的文件可以相互调用；</p>
<p>模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。 </p>
<p>Node.js 提供了 exports 和 require 两个对象，其中 exports 是模块公开的接口，require 用于从外部获取一个模块的接口，即所获取模块的 exports 对象。 </p>
<p>可以使用 module.exports = Hello 代替exports.world = function(){}。 在外部引用该模块时，其接口对象就是要输出的 Hello 对象本身，而不是原先的 exports。 </p>
<blockquote>
<p><strong>exports 和 module.exports 的使用</strong></p>
<p>如果要对外暴露属性或方法，就用 <strong>exports</strong> 就行，要暴露对象(类似class，包含了很多属性和方法)，就用 <strong>module.exports</strong>。</p>
</blockquote>
<p>Node.js 中存在 4 类模块（原生模块和3种文件模块） </p>
<blockquote>
<p>从文件模块缓存中加载&gt;从原生模块加载&gt;从文件加载</p>
</blockquote>
<h2 id="events-模块"><a href="#events-模块" class="headerlink" title="events 模块"></a>events 模块</h2><p>通过引入 events 模块，并通过实例化 EventEmitter 类来绑定和监听事件</p>
<p>Node.js 基本上所有的事件机制都是用设计模式中观察者模式实现。 </p>
<p>Node.js 单线程类似进入一个while(true)的事件循环，直到没有事件观察者退出，每个异步事件都生成一个事件观察者，如果有事件发生就调用该回调函数。</p>
<h2 id="Web模块"><a href="#Web模块" class="headerlink" title="Web模块"></a>Web模块</h2><p>Node.js 提供了 http 模块，http 模块主要用于搭建 HTTP 服务端和客户端，使用 HTTP 服务器或客户端功能必须调用 http 模块</p>
<h2 id="常用模块"><a href="#常用模块" class="headerlink" title="常用模块"></a>常用模块</h2><p>OS 模块-提供基本的系统操作函数。</p>
<p>Path 模块-提供了处理和转换文件路径的工具。</p>
<p>Net 模块-用于底层的网络通信。提供了服务端和客户端的的操作。</p>
<p>DNS 模块-用于解析域名。</p>
<p>Domain 模块-简化异步代码的异常处理，可以捕捉处理try catch无法捕捉的。</p>
<p>fs 模块-Node.js 文件系统，模块中的方法均有异步和同步版本。</p>
<p>util 是一个Node.js 核心模块，提供常用函数的集合。</p>
<ul>
<li>util.inspect(object,[showHidden],[depth],[colors])是一个将任意对象转换 为字符串的方法 ；</li>
<li>util.isArray(object)</li>
<li>util.isRegExp(object)</li>
<li>util.isDate(object)</li>
<li>util.isError(object)</li>
</ul>
<p>url模块 &amp; querystring 模块 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">					url.parse(string).query</span><br><span class="line">                                           |</span><br><span class="line">           url.parse(string).pathname      |</span><br><span class="line">                       |                   |</span><br><span class="line">                     ------ -------------------</span><br><span class="line">http://localhost:8888/start?foo=bar&amp;hello=world</span><br><span class="line">                                ---       -----</span><br><span class="line">                                 |          |</span><br><span class="line">      querystring.parse(queryString)[&quot;foo&quot;] |</span><br><span class="line">                                            |</span><br><span class="line">                         querystring.parse(queryString)[&quot;hello&quot;]</span><br></pre></td></tr></table></figure>
<h2 id="全局对象global"><a href="#全局对象global" class="headerlink" title="全局对象global"></a>全局对象global</h2><p>__dirname当前执行脚本所在的目录 </p>
<p>__filename当前正在执行的脚本的文件名</p>
<p>process 是一个全局变量，即 global 对象的属性。它用于描述当前Node.js 进程状态的对象，提供了一个与操作系统的简单接口。</p>
<h1 id="开发模式"><a href="#开发模式" class="headerlink" title="开发模式"></a>开发模式</h1><table>
<thead>
<tr>
<th>模型名称</th>
<th>技术特点</th>
<th>适用范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>瀑布模型</td>
<td>简单，分阶段，阶段间存在因果关系，各个阶段完成后都有评审，允许反馈，不支持用户参与，要求预先确定需求</td>
<td>需求易于完善定义且不易变更的软件系统</td>
</tr>
<tr>
<td>快速原型模型</td>
<td>不要求需求预先完备定义，支持用户参与，支持需求的渐进式完善和确认，能够适应用户需求的变化</td>
<td>需求复杂、难以确定、动态变化的软件系统</td>
</tr>
<tr>
<td>增量模型</td>
<td>软件产品是被增量式地一块块开发的，允许开发活动并行和重叠</td>
<td>技术风险较大、用户需求较为稳定的软件系统</td>
</tr>
<tr>
<td>迭代模型</td>
<td>不要求一次性地开发出完整的软件系统，将软件开发视为一个逐步获取用广需求、完善软件产品的过程</td>
<td>需求难以确定、不断变更的软件系统</td>
</tr>
<tr>
<td>螺旋模型</td>
<td>结合瀑布模型、快速原型模型和迭代模型的思想，并引进了风险分析活动</td>
<td>需求难以获取和确定、软件开发风险较大的软件系统</td>
</tr>
</tbody>
</table>
<h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><p>设计模式是一套被反复使用的、多数人知晓的、经过分类编目的、代码设计经验的总结。</p>
<p>使用设计模式是为了重用代码、让代码更容易被他人理解、保证代码可靠性。 </p>
<table>
<thead>
<tr>
<th>序号</th>
<th>模式 &amp; 描述</th>
<th>包括</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>创建型模式</strong> 这些设计模式提供了一种在创建对象的同时隐藏创建逻辑的方式，而不是使用 new 运算符直接实例化对象。这使得程序在判断针对某个给定实例需要创建哪些对象时更加灵活。</td>
<td>工厂模式（Factory Pattern）抽象工厂模式（Abstract Factory Pattern）单例模式（Singleton Pattern）建造者模式（Builder Pattern）原型模式（Prototype Pattern）</td>
</tr>
<tr>
<td>2</td>
<td><strong>结构型模式</strong> 这些设计模式关注类和对象的组合。继承的概念被用来组合接口和定义组合对象获得新功能的方式。</td>
<td>适配器模式（Adapter Pattern）桥接模式（Bridge Pattern）过滤器模式（Filter、Criteria Pattern）组合模式（Composite Pattern）装饰器模式（Decorator Pattern）外观模式（Facade Pattern）享元模式（Flyweight Pattern）代理模式（Proxy Pattern）</td>
</tr>
<tr>
<td>3</td>
<td><strong>行为型模式</strong> 这些设计模式特别关注对象之间的通信。</td>
<td>责任链模式（Chain of Responsibility Pattern）命令模式（Command Pattern）解释器模式（Interpreter Pattern）迭代器模式（Iterator Pattern）中介者模式（Mediator Pattern）备忘录模式（Memento Pattern）观察者模式（Observer Pattern）状态模式（State Pattern）空对象模式（Null Object Pattern）策略模式（Strategy Pattern）模板模式（Template Pattern）访问者模式（Visitor Pattern）</td>
</tr>
<tr>
<td>4</td>
<td><strong>J2EE 模式</strong> 这些设计模式特别关注表示层。这些模式是由 Sun Java Center 鉴定的。</td>
<td>MVC 模式（MVC Pattern）业务代表模式（Business Delegate Pattern）组合实体模式（Composite Entity Pattern）数据访问对象模式（Data Access Object Pattern）前端控制器模式（Front Controller Pattern）拦截过滤器模式（Intercepting Filter Pattern）服务定位器模式（Service Locator Pattern）传输对象模式（Transfer Object Pattern）</td>
</tr>
</tbody>
</table>
<h2 id="设计模式的六大原则"><a href="#设计模式的六大原则" class="headerlink" title="设计模式的六大原则"></a>设计模式的六大原则</h2><p><strong>1、开闭原则（Open Close Principle）</strong></p>
<p>开闭原则的意思是：<strong>对扩展开放，对修改关闭</strong>。在程序需要进行拓展的时候，不能去修改原有的代码，实现一个热插拔的效果。简言之，是为了使程序的扩展性好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类，后面的具体设计中我们会提到这点。</p>
<p><strong>2、里氏代换原则（Liskov Substitution Principle）</strong></p>
<p>里氏代换原则是面向对象设计的基本原则之一。 里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。LSP 是继承复用的基石，只有当派生类可以替换掉基类，且软件单位的功能不受到影响时，基类才能真正被复用，而派生类也能够在基类的基础上增加新的行为。里氏代换原则是对开闭原则的补充。实现开闭原则的关键步骤就是抽象化，而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。</p>
<p><strong>3、依赖倒转原则（Dependence Inversion Principle）</strong></p>
<p>这个原则是开闭原则的基础，具体内容：针对接口编程，依赖于抽象而不依赖于具体。</p>
<p><strong>4、接口隔离原则（Interface Segregation Principle）</strong></p>
<p>这个原则的意思是：使用多个隔离的接口，比使用单个接口要好。它还有另外一个意思是：降低类之间的耦合度。由此可见，其实设计模式就是从大型软件架构出发、便于升级和维护的软件设计思想，它强调降低依赖，降低耦合。</p>
<p><strong>5、迪米特法则，又称最少知道原则（Demeter Principle）</strong></p>
<p>最少知道原则是指：一个实体应当尽量少地与其他实体之间发生相互作用，使得系统功能模块相对独立。</p>
<p><strong>6、合成复用原则（Composite Reuse Principle）</strong></p>
<p>合成复用原则是指：尽量使用合成/聚合的方式，而不是使用继承。</p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/images/kev168.jpg" alt="Gavin Gao wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的二维码添加好友，一起探讨&进步！</div>
</div>

      </div>
    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>坚持好文分享，您的支持将鼓励我继续进步！</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="Gavin Gao 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="Gavin Gao 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/web/" rel="tag"># web</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/07/frontend/CSS揭秘/" rel="next" title="CSS揭秘">
                <i class="fa fa-chevron-left"></i> CSS揭秘
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="Gavin Gao" />
            
              <p class="site-author-name" itemprop="name">Gavin Gao</p>
              <p class="site-description motion-element" itemprop="description">也许就在这一瞬间 你的笑容一人如晚霞般 在川流不息的时光中 神采飞扬</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/biubiulover" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:gnkevin@126.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.alloyteam.com/nav/" title="Web前端导航" target="_blank">Web前端导航</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.chuangzaoshi.com/code" title="创造狮导航" target="_blank">创造狮导航</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.36zhen.com/t?id=3448" title="前端书籍资料" target="_blank">前端书籍资料</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://e.xitu.io/" title="掘金酱" target="_blank">掘金酱</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.v2ex.com/" title="V2EX" target="_blank">V2EX</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://docschina.org/" title="印记中文" target="_blank">印记中文</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#精通浏览器兼容性调优"><span class="nav-number">1.</span> <span class="nav-text">精通浏览器兼容性调优</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#浏览器兼容性"><span class="nav-number">1.1.</span> <span class="nav-text">浏览器兼容性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内核："><span class="nav-number">1.1.1.</span> <span class="nav-text">内核：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容性一般标准"><span class="nav-number">1.1.2.</span> <span class="nav-text">兼容性一般标准</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#兼容性主要考虑"><span class="nav-number">1.1.3.</span> <span class="nav-text">兼容性主要考虑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS兼容"><span class="nav-number">1.1.4.</span> <span class="nav-text">CSS兼容</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CSS-Reset"><span class="nav-number">1.1.4.1.</span> <span class="nav-text">CSS Reset</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#normalize-css"><span class="nav-number">1.1.4.2.</span> <span class="nav-text">normalize.css</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSS-Hack"><span class="nav-number">1.1.4.3.</span> <span class="nav-text">CSS Hack</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-IE条件注释法"><span class="nav-number">1.1.4.3.1.</span> <span class="nav-text">1. IE条件注释法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-样式内属性标记法"><span class="nav-number">1.1.4.3.2.</span> <span class="nav-text">2. 样式内属性标记法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-选择器前缀法"><span class="nav-number">1.1.4.3.3.</span> <span class="nav-text">3. 选择器前缀法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-文档模式-（X-UA-Compatible）-–-降级使用"><span class="nav-number">1.1.4.3.4.</span> <span class="nav-text">4. 文档模式 （X-UA-Compatible） – 降级使用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#渐进增强和优雅降级"><span class="nav-number">1.1.4.4.</span> <span class="nav-text">渐进增强和优雅降级</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JavaScript兼容"><span class="nav-number">1.1.5.</span> <span class="nav-text">JavaScript兼容</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Javascript-不同浏览器差异和兼容方法"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">Javascript 不同浏览器差异和兼容方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#添加事件监听兼容函数"><span class="nav-number">1.1.5.1.1.</span> <span class="nav-text">添加事件监听兼容函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#删除事件监听兼容函数"><span class="nav-number">1.1.5.1.2.</span> <span class="nav-text">删除事件监听兼容函数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#event"><span class="nav-number">1.1.5.1.3.</span> <span class="nav-text">event</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ajax-XHR对象"><span class="nav-number">1.1.5.1.4.</span> <span class="nav-text">ajax XHR对象</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#找子标签的问题"><span class="nav-number">1.1.5.1.5.</span> <span class="nav-text">找子标签的问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#currentStyle"><span class="nav-number">1.1.5.1.6.</span> <span class="nav-text">currentStyle</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#获取鼠标当前坐标"><span class="nav-number">1.1.5.1.7.</span> <span class="nav-text">获取鼠标当前坐标</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#性能优化"><span class="nav-number">1.2.</span> <span class="nav-text">性能优化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#依赖因素"><span class="nav-number">1.2.1.</span> <span class="nav-text">依赖因素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#优化大方向"><span class="nav-number">1.2.2.</span> <span class="nav-text">优化大方向</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ajax"><span class="nav-number">2.</span> <span class="nav-text">ajax</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#混合开发-Hybrid-App"><span class="nav-number">3.</span> <span class="nav-text">混合开发 Hybrid App</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jQuery-bootstrap"><span class="nav-number">4.</span> <span class="nav-text">jQuery bootstrap</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jQuery"><span class="nav-number">4.0.1.</span> <span class="nav-text">jQuery</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bootstrap"><span class="nav-number">4.0.2.</span> <span class="nav-text">Bootstrap</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#响应式布局"><span class="nav-number">5.</span> <span class="nav-text">响应式布局</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#静态布局（Static-Layout）"><span class="nav-number">5.1.</span> <span class="nav-text">静态布局（Static Layout）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#流式布局（Liquid-Layout）"><span class="nav-number">5.2.</span> <span class="nav-text">流式布局（Liquid Layout）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自适应布局（Adaptive-Layout）"><span class="nav-number">5.3.</span> <span class="nav-text">自适应布局（Adaptive Layout）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应式布局（Responsive-Layout）"><span class="nav-number">5.4.</span> <span class="nav-text">响应式布局（Responsive Layout）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#弹性布局（rem-em布局）"><span class="nav-number">5.5.</span> <span class="nav-text">弹性布局（rem/em布局）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布局比较"><span class="nav-number">5.6.</span> <span class="nav-text">布局比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#媒体查询-media-query"><span class="nav-number">5.7.</span> <span class="nav-text">媒体查询 media query</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设备类型"><span class="nav-number">5.7.1.</span> <span class="nav-text">设备类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设备特性"><span class="nav-number">5.7.2.</span> <span class="nav-text">设备特性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实践"><span class="nav-number">5.8.</span> <span class="nav-text">实践</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一，在标签内引入"><span class="nav-number">5.8.1.</span> <span class="nav-text">一，在标签内引入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二，dpr-设备像素比"><span class="nav-number">5.8.2.</span> <span class="nav-text">二，dpr 设备像素比</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三，媒介查询"><span class="nav-number">5.8.3.</span> <span class="nav-text">三，媒介查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#四，设置多种视图宽度"><span class="nav-number">5.8.4.</span> <span class="nav-text">四，设置多种视图宽度</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#flex"><span class="nav-number">6.</span> <span class="nav-text">flex</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#容器属性"><span class="nav-number">6.1.</span> <span class="nav-text">容器属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目属性"><span class="nav-number">6.2.</span> <span class="nav-text">项目属性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MVVM-VUE-js"><span class="nav-number">7.</span> <span class="nav-text">MVVM VUE.js</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#生命周期"><span class="nav-number">7.1.</span> <span class="nav-text">生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#axios"><span class="nav-number">7.2.</span> <span class="nav-text">axios</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#并发"><span class="nav-number">7.2.1.</span> <span class="nav-text">并发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#创建实例"><span class="nav-number">7.2.2.</span> <span class="nav-text">创建实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#requests-response-拦截器"><span class="nav-number">7.2.3.</span> <span class="nav-text">requests/response 拦截器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#默认全局配置"><span class="nav-number">7.2.4.</span> <span class="nav-text">默认全局配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#取消请求"><span class="nav-number">7.2.5.</span> <span class="nav-text">取消请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Browser"><span class="nav-number">7.2.6.</span> <span class="nav-text">Browser</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node-js"><span class="nav-number">7.2.7.</span> <span class="nav-text">Node.js</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#webpack"><span class="nav-number">8.</span> <span class="nav-text">webpack</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#node-js-koa-express-npm"><span class="nav-number">9.</span> <span class="nav-text">node.js koa express npm</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js-RESTful-API"><span class="nav-number">9.1.</span> <span class="nav-text">Node.js RESTful API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js多进程"><span class="nav-number">9.2.</span> <span class="nav-text">Node.js多进程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#模块"><span class="nav-number">9.3.</span> <span class="nav-text">模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#events-模块"><span class="nav-number">9.4.</span> <span class="nav-text">events 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web模块"><span class="nav-number">9.5.</span> <span class="nav-text">Web模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用模块"><span class="nav-number">9.6.</span> <span class="nav-text">常用模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#全局对象global"><span class="nav-number">9.7.</span> <span class="nav-text">全局对象global</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#开发模式"><span class="nav-number">10.</span> <span class="nav-text">开发模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#设计模式"><span class="nav-number">11.</span> <span class="nav-text">设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#设计模式的六大原则"><span class="nav-number">11.1.</span> <span class="nav-text">设计模式的六大原则</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gavin Gao</span>

  
</div>






  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
